[Unit]
Description=Hostapd Daemon
Requires=sys-subsystem-net-devices-%i.device
After=sys-subsystem-net-devices-%i.device

[Service]
Type=forking
Restart=on-failure
ExecStart=/${CMAKE_INSTALL_SBINDIR}/hostapd -B -P /${CMAKE_INSTALL_RUNSTATEDIR}/hostapd/hostapd-%i.pid -i %i /${CMAKE_INSTALL_SYSCONFDIR}/hostapd/hostapd.conf
PIDFile=/${CMAKE_INSTALL_RUNSTATEDIR}/hostapd/hostapd.pid

[Install]
WantedBy=default.target
